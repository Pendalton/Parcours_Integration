@model IEnumerable<Parcours_integration.Models.Missions>

<div>
    <table class="table" style="margin: 0 auto 0 0; border-color: #fff; width:700px">
        <tr>
            <td style="width:33%">
                <h2 style="font-weight:normal">@ViewBag.Identity</h2>
            </td>
            <td style="width:33%;text-align:center">
                <h2 style="font-weight:normal"><span>@ViewBag.TypeContrat</span></h2>
            </td>
            <td style="width:33%;text-align:right;padding-right:15px">
                <h2 style="font-weight:normal"><span>@ViewBag.PosteOccupé</span></h2>
            </td>
        </tr>
    </table>
    <h3 style="font-weight:normal"><span>Entré(e) le : @ViewBag.Entrée</span></h3>
</div>

<table style="border: 1px solid; font-size: 9pt; border-collapse: collapse; width: 700px; text-align: center">
    <thead>
        <tr>
            <th class="text-center" style="background-color: #B8DBFD;border: 1px solid">
                Mission
            </th>
            <th class="text-center" style="width: 15%; background-color: #B8DBFD;border: 1px solid">
                Service
            </th>
            <th class="text-center" style="width: 19%; background-color: #B8DBFD;border: 1px solid">
                Interlocuteur
            </th>
            <th class="text-center" style="width: 12%; background-color: #B8DBFD;border: 1px solid">
                Mission faite?
            </th>
            <th class="text-center" style="width: 13%; background-color: #B8DBFD;border: 1px solid">
                Date de passage
            </th>
        </tr>
    </thead>
    <tbody>
        @foreach (var item in Model)
        {
            <tr align="center">
                <td style="width:250px; height:40px;border: 1px solid">
                    @Html.DisplayFor(modelItem => item.Nom_Mission)
                </td>
                <td style="width:120px;border: 1px solid">
                    @Html.DisplayFor(modelItem => item.Nom_Secteur)
                </td>
                <td style="width: 120px; border: 1px solid;">
                    @if (item.Employes == null)
                    {
                        <p>----------------</p>
                    }
                    else
                    {
                        @Html.DisplayFor(modelItem => item.Employes.Nom)
                    }
                </td>
                    @if (item.Passage)
                    {
                        <td style="width: 120px; border: 1px solid; background-color: #d1e7dd">
                            <p>OUI</p>
                        </td>
                    }
                    else
                    {
                        <td style="width: 120px; border: 1px solid; background-color: #ffd9d9">
                            <p>NON</p>
                        </td>
                    }
                <td style="width:120px;border: 1px solid">
                    @Html.DisplayFor(modelItem => item.Date_passage)
                </td>
            </tr>
        }
    </tbody>
</table>


<div style="text-align:center; padding:15px 0 15px 0">
    Liste des formateurs possibles :
</div>

<table class="table" style="padding: 15px 0 15px 0; border-color: #fff; width: 700px; font-size: 9pt; vertical-align:bottom">
   @foreach (var item in ViewBag.Lieux)
    {
        <tr style="height:30px">
            <td style="width: 20%; text-align: center">@item</td>
            <td class="text-center" style="width:80%">
                @{string Intervenants = "";
                    foreach (var Person in ViewBag.Intervenants)
                    {
                        if (Person.Secteur == item)
                        {
                            Intervenants = String.Concat(Intervenants + Person.Nom + ", ");
                        }
                    }
                }
                @Intervenants
            </td>
        </tr>
    }
</table>